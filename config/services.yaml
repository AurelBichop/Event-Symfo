services:
  
  App\:
    resource: '../src/*'
    autowire: true
  
  App\Controller\OrderController:
    public: true
    autowire: true  
  
  App\Listener\OrderSmsListener:
    public: true
    autowire: true  

  App\Listener\OrderEmailsSubscriber:
    public: true
    autowire: true  

  Symfony\Component\EventDispatcher\EventDispatcher: 
    public: true
    calls: 
      - method: "addListener"
        arguments:
          - order.after_insert
          - ['@App\Listener\OrderSmsListener','sendSmsToCustomer']
          - 3
      - method: "addSubscriber"
        arguments:
          - '@App\Listener\OrderEmailsSubscriber'